<div class="w-50">
  <h1>カテゴリ情報更新</h1>
  <%= form_with model: @category, url: dashboard_category_path(@category), local: true do |f| %>
    <div class="form-inline mt-4 mb-4 row">
      <%= f.label :name, "カテゴリ名", class: "col-2 d-flex justify-content-start" %>
      <%= f.text_field :name, class: "form-control col-8" %>
    </div>

    <div class="form-inline mt-4 mb-4 row">
      <%= f.label :description, "カテゴリの説明", class: "col-2 d-flex justify-content-start" %>
      <%= f.text_field :description, class: "form-control col-8" %>
    </div>

    <div class="form-inline mt-4 mb-4 row">
      <%= f.label :major_category_name, "カテゴリ", class: "col-2 d-flex justify-content-start" %>
      <%= f.select :major_category_id, @major_categories.map { |mc| [mc.name, mc.id] }, {}, class: "form-control col-8" %>
    </div>
    
    <div class="form-inline mt-4 mb-4 row">
         <%= f.label "画像", class: "col-2 d-flex justify-content-start" %>
         <% if @category.image.attached? %>
           <%= image_tag @category.image, id: "category-image-preview", class: "img-fluid w-25" %>
         <% else %>
           <img src="#" id="category-image-preview" class="">
         <% end %>
         <div class="d-flex flex-column ml-2">
           <small class="mb-3">600px×600px推奨。<br>商品カテゴリーの魅力が伝わる画像をアップロードして下さい。</small>
           <%= f.label "画像を選択", for: "category_image", class: "btn samazon-submit-button" %>
           <%= f.file_field :image, { onChange: "javascript: handleImage(this.files);", style: "display: none;"} %>
         </div>
    </div>
    

    <%= f.submit "更新", class: "w-25 btn samazon-submit-button" %>
  <% end %>
  <div class="mt-4"><%= link_to "カテゴリ一覧に戻る", dashboard_categories_path %></div>
</div>

<%= javascript_include_tag "dashboard/categories/edit" %>